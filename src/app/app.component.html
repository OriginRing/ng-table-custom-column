<button nz-button [nzType]="type === 0 ? 'primary' : 'default'" (click)="setTableType(0)">
  base Table
</button>
<nz-divider nzType="vertical"></nz-divider>
<button nz-button [nzType]="type === 1 ? 'primary' : 'default'" (click)="setTableType(1)">
  Scroll Table
</button>
<nz-divider nzType="vertical"></nz-divider>
<button nz-button [nzType]="type === 2 ? 'primary' : 'default'" (click)="setTableType(2)">
  virtual scroll Table
</button>

<div style="position: absolute; right: 0; top: 0">
  <button nz-button nzType="primary" (click)="reload()">
    <span nz-icon nzType="reload" nzTheme="outline"></span>
  </button>
  <nz-divider nzType="vertical"></nz-divider>
  <button nz-button nzType="primary" (click)="settingCustom()">
    <span nz-icon nzType="setting" nzTheme="outline"></span>
  </button>
</div>

<nz-table #basicTable [nzData]="listOfData" [nzLoading]="loading" *ngIf="type === 0">
  <thead>
    <tr>
      <th appTableStyle [columnList]="columnList" type="name" *ngIf="getShow('name')">名称</th>
      <th appTableStyle [columnList]="columnList" type="sex" *ngIf="getShow('sex')">性别</th>
      <th
        appTableStyle
        [columnList]="columnList"
        type="age"
        *ngIf="getShow('age')"
        [nzSortFn]="sortFn"
      >
        年龄
      </th>
      <th appTableStyle [columnList]="columnList" type="address" *ngIf="getShow('address')">
        地址
      </th>
      <th appTableStyle [columnList]="columnList" type="idCode" *ngIf="getShow('idCode')">
        身份证
      </th>
      <th appTableStyle [columnList]="columnList" type="phone" *ngIf="getShow('phone')">
        联系方式
      </th>
      <th appTableStyle [columnList]="columnList" type="action" *ngIf="getShow('action')">操作</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let data of basicTable.data; index as i">
      <td appTableStyle [columnList]="columnList" type="name" *ngIf="getShow('name')">
        {{ data.name }}
      </td>
      <td appTableStyle [columnList]="columnList" type="sex" *ngIf="getShow('sex')">
        <ng-container *ngIf="data.sex === 'man'; else sex">男</ng-container>
        <ng-template #sex>女</ng-template>
      </td>
      <td appTableStyle [columnList]="columnList" type="age" *ngIf="getShow('age')">
        {{ data.age }}
      </td>
      <td appTableStyle [columnList]="columnList" type="address" *ngIf="getShow('address')">
        {{ data.address }}
      </td>
      <td appTableStyle [columnList]="columnList" type="idCode" *ngIf="getShow('idCode')">
        {{ data.idCode }}
      </td>
      <td appTableStyle [columnList]="columnList" type="phone" *ngIf="getShow('phone')">
        {{ data.phone }}
      </td>
      <td appTableStyle [columnList]="columnList" type="action" *ngIf="getShow('action')">
        <a>Action</a>
        <nz-divider nzType="vertical"></nz-divider>
        <a>Delete</a>
      </td>
    </tr>
  </tbody>
</nz-table>

<nz-table
  #basicTable
  [nzData]="listOfData"
  [nzLoading]="loading"
  [nzScroll]="{ x: '1500px' }"
  *ngIf="type === 1"
>
  <thead>
    <tr>
      <th
        nzLeft
        appTableStyle
        [columnList]="columnList"
        type="name"
        [isScroll]="true"
        *ngIf="getShow('name')"
      >
        名称
      </th>
      <th
        nzLeft
        appTableStyle
        [columnList]="columnList"
        type="sex"
        [isScroll]="true"
        *ngIf="getShow('sex')"
        [nzLeft]="'150px'"
      >
        性别
      </th>
      <th
        appTableStyle
        [columnList]="columnList"
        type="age"
        *ngIf="getShow('age')"
        [nzSortFn]="sortFn"
      >
        年龄
      </th>
      <th appTableStyle [columnList]="columnList" type="address" *ngIf="getShow('address')">
        地址
      </th>
      <th appTableStyle [columnList]="columnList" type="idCode" *ngIf="getShow('idCode')">
        身份证
      </th>
      <th appTableStyle [columnList]="columnList" type="phone" *ngIf="getShow('phone')">
        联系方式
      </th>
      <th
        nzRight
        appTableStyle
        [columnList]="columnList"
        type="action"
        [isScroll]="true"
        *ngIf="getShow('action')"
      >
        操作
      </th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let data of basicTable.data; index as i">
      <td
        nzLeft
        appTableStyle
        [columnList]="columnList"
        type="name"
        [isScroll]="true"
        *ngIf="getShow('name')"
      >
        {{ data.name }}
      </td>
      <td
        nzLeft
        appTableStyle
        [columnList]="columnList"
        type="sex"
        [isScroll]="true"
        *ngIf="getShow('sex')"
        [nzLeft]="'150px'"
      >
        <ng-container *ngIf="data.sex === 'man'; else sex">男</ng-container>
        <ng-template #sex>女</ng-template>
      </td>
      <td appTableStyle [columnList]="columnList" type="age" *ngIf="getShow('age')">
        {{ data.age }}
      </td>
      <td appTableStyle [columnList]="columnList" type="address" *ngIf="getShow('address')">
        {{ data.address }}
      </td>
      <td appTableStyle [columnList]="columnList" type="idCode" *ngIf="getShow('idCode')">
        {{ data.idCode }}
      </td>
      <td appTableStyle [columnList]="columnList" type="phone" *ngIf="getShow('phone')">
        {{ data.phone }}
      </td>
      <td
        nzRight
        appTableStyle
        [columnList]="columnList"
        [isScroll]="true"
        type="action"
        *ngIf="getShow('action')"
      >
        <a>Action</a>
        <nz-divider nzType="vertical"></nz-divider>
        <a>Delete</a>
      </td>
    </tr>
  </tbody>
</nz-table>

<nz-table
  *ngIf="type === 2"
  #virtualTable
  [nzBordered]="true"
  [nzVirtualItemSize]="54"
  [nzLoading]="loading"
  [nzData]="listOfDataVirtual"
  [nzVirtualForTrackBy]="trackByIndex"
  [nzFrontPagination]="false"
  [nzShowPagination]="false"
  [nzScroll]="{ x: '1200px', y: '500px' }"
>
  <thead>
    <tr>
      <th nzLeft appTableStyle [columnList]="columnList" type="name" *ngIf="getShow('name')">
        名称
      </th>
      <th appTableStyle [columnList]="columnList" type="sex" *ngIf="getShow('sex')">性别</th>
      <th
        appTableStyle
        [columnList]="columnList"
        type="age"
        *ngIf="getShow('age')"
        [nzSortFn]="sortFn"
      >
        年龄
      </th>
      <th appTableStyle [columnList]="columnList" type="address" *ngIf="getShow('address')">
        地址
      </th>
      <th appTableStyle [columnList]="columnList" type="idCode" *ngIf="getShow('idCode')">
        身份证
      </th>
      <th appTableStyle [columnList]="columnList" type="phone" *ngIf="getShow('phone')">
        联系方式
      </th>
      <th nzRight appTableStyle [columnList]="columnList" type="action" *ngIf="getShow('action')">
        操作
      </th>
    </tr>
  </thead>
  <tbody>
    <ng-template nz-virtual-scroll let-data let-index="index">
      <tr>
        <td nzLeft appTableStyle [columnList]="columnList" type="name" *ngIf="getShow('name')">
          {{ data.name }}
        </td>
        <td appTableStyle [columnList]="columnList" type="sex" *ngIf="getShow('sex')">
          <ng-container *ngIf="data.sex === 'man'; else sex">男</ng-container>
          <ng-template #sex>女</ng-template>
        </td>
        <td appTableStyle [columnList]="columnList" type="age" *ngIf="getShow('age')">
          {{ data.age }}
        </td>
        <td appTableStyle [columnList]="columnList" type="address" *ngIf="getShow('address')">
          {{ data.address }}
        </td>
        <td appTableStyle [columnList]="columnList" type="idCode" *ngIf="getShow('idCode')">
          {{ data.idCode }}
        </td>
        <td appTableStyle [columnList]="columnList" type="phone" *ngIf="getShow('phone')">
          {{ data.phone }}
        </td>
        <td nzRight appTableStyle [columnList]="columnList" type="action" *ngIf="getShow('action')">
          <a>Action</a>
          <nz-divider nzType="vertical"></nz-divider>
          <a>Delete</a>
        </td>
      </tr>
    </ng-template>
  </tbody>
</nz-table>
